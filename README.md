# Simple QR Generator (MVP)

## 프로젝트 목적
관리자가 입력한 **Google Drive 제품 설명서 이미지 링크**를 기준으로  
**항상 동일한 QR 코드**를 생성하고, 고객이 QR 코드를 스캔해 **제품 설명서 이미지에 직접 접근**할 수 있도록 하는  
작고 단순하지만 향후 확장이 가능한 웹 서비스.

## 해결하려는 문제
- 제품 설명서 이미지 링크를 매번 공유하기 번거롭다.
- 동일한 설명서임에도 QR 코드가 매번 달라지면 관리가 어렵다.
- 오프라인(패키지/인쇄물)과 온라인 설명서를 안정적으로 연결할 수단이 필요하다.

## 주요 사용자
- **관리자**
  - Google Drive 이미지 링크 입력
  - QR 코드 생성
  - QR 코드 다운로드 또는 공유
- **고객**
  - QR 코드 스캔
  - Google Drive 이미지 열람

## MVP 필수 기능
1. **QR 코드 생성**
   - 관리자가 Google Drive 이미지 링크를 입력하면 QR 코드가 생성된다.
   - 동일한 링크 입력 시 항상 동일한 QR 코드가 생성된다.
2. **QR 코드 접근**
   - QR 코드를 스캔하면 해당 Google Drive 이미지가 정상적으로 열린다.
3. **QR 코드 활용**
   - 관리자는 생성된 QR 코드를 이미지 형태로 다운로드할 수 있다.
   - 관리자는 QR 코드를 외부로 공유할 수 있다.
4. **데이터 저장 원칙**
   - QR 코드 이미지 파일은 저장하지 않는다.
   - QR 코드 재생성에 필요한 최소한의 메타데이터만 저장한다.

## 명시적으로 하지 않는 것
- 회원가입, 로그인, 인증 기능 제공 ❌
- 결제, 과금, 구독 기능 ❌
- 관리자 권한 분리 및 다중 관리자 관리 ❌
- QR 코드 이미지 파일을 서버 또는 DB에 저장 ❌
- 대규모 트래픽 대응 및 고가용성 설계 ❌

## 라우팅(정합 버전, MVP)
- 관리자: `/admin/qr`  
  - 링크 입력 화면 + 결과 화면을 **단일 페이지 내 상태 전환**으로 처리
- 고객: `/qr/[key]`  
  - “이동 중/실패 안내” 후 **자동으로 Google Drive로 이동**
- API
  - `POST /api/qr` : 링크 정규화 → 메타데이터 조회/생성 → `qr_key`(또는 접근 URL) 반환
  - `GET  /api/qr/[key]` : `qr_key` → 원본 링크 매핑 → 리다이렉트

## 데이터 저장(메타데이터만)
- id (내부 식별자)
- original_url (입력된 링크)
- normalized_url (정규화된 링크)
- qr_key (QR 접근 키)
- created_at
- last_accessed_at (선택)

> QR 이미지 파일/바이너리는 저장하지 않는다.

## 개발 원칙
- App Router 기준, `app/**/page.tsx`는 **조립(Composition)만** 담당한다.
- 공용 UI는 `components/ui`에서 재사용한다.
- 상태(loading/success/error/empty)는 공용 패턴으로 통일한다.

## 환경 변수
환경 변수 키 목록은 `docs/env.md` 참고.
