# 🧾 Simple QR Generator (MVP)

> **Google Drive 제품 설명서 이미지를 위한, 항상 동일한 QR 코드 생성 서비스**

관리자가 입력한 **Google Drive 제품 설명서 이미지 공유 링크**를 기준으로,
항상 **동일한 QR 코드**를 생성하고,
고객은 해당 QR 코드를 스캔해 **제품 설명서 이미지에 직접 접근**할 수 있습니다.

이 문서는 단순한 소개용 README가 아니라,
👉 **이 프로젝트가 어디까지를 MVP로 보고, 어디서 멈추는지 명확히 하기 위한 ‘가드레일 문서’**입니다.

---

## 🎯 프로젝트 목적

* 제품 설명서 이미지 링크를 매번 공유해야 하는 번거로움 해소
* 동일한 설명서 ↔ 동일한 QR 코드로 관리 일관성 확보
* 오프라인(패키지·인쇄물)과 온라인(설명서 이미지)을 안정적으로 연결

---

## 👥 주요 사용자

### 🛠 관리자

* Google Drive 제품 설명서 **이미지 공유 링크 입력**
* QR 코드 생성
* QR 코드 다운로드 또는 외부 공유

### 📱 고객

* 제품에 부착된 QR 코드 스캔
* Google Drive 제품 설명서 이미지 열람

---

## ✅ MVP 범위

### 포함하는 기능

* Google Drive 이미지 공유 링크 입력을 통한 QR 코드 생성
* **동일한 링크 입력 시 항상 동일한 QR 코드 생성**
* QR 코드 이미지 다운로드 및 공유
* QR 코드 스캔 시 제품 설명서 이미지로 리다이렉트
* QR 재생성을 위한 **최소 메타데이터 저장**

### ❌ 명시적으로 하지 않는 것

* 회원가입 / 로그인 / 인증 기능
* 결제 · 과금 · 구독 기능
* 관리자 권한 분리 및 다중 관리자 관리
* QR 코드 이미지 파일 또는 이미지 바이너리 저장
* 대규모 트래픽 대응 및 고가용성 설계

> ⚠️ 위 항목들은 **MVP 단계에서 의도적으로 배제**됩니다.
> 구현 중 필요해 보이더라도, 별도 논의 없이 범위를 확장하지 않습니다.

---

## 🔄 서비스 동작 개념 (핵심 흐름)

### 관리자 사용자 흐름

1. 관리자 페이지 접속
2. Google Drive 제품 설명서 **이미지 공유 링크 입력**
3. 시스템 처리

   * URL 정규화(normalization)
   * 기존 메타데이터 존재 여부 확인

     * 존재 시: 기존 QR 결과 반환
     * 미존재 시: 신규 메타데이터 생성
4. QR 코드 제공
5. QR 코드 다운로드 또는 공유

### 고객 사용자 흐름

1. QR 코드 스캔
2. `/qr/{key}` 경로 접근
3. 서버에서 **302 Redirect**
4. Google Drive 제품 설명서 이미지 열람

> 📌 QR 코드에는 **Google Drive 링크가 직접 포함되지 않으며**,
> 항상 **우리 서비스의 리다이렉트 경로(`/qr/{key}`)** 가 인코딩됩니다.

---

## 🗄 데이터 저장 원칙

### 저장하는 데이터 (최소 메타데이터)

| 항목               | 설명                            |
| ---------------- | ----------------------------- |
| id               | 내부 식별자                        |
| original_url     | 관리자 입력 Google Drive 이미지 공유 링크 |
| normalized_url   | QR 생성 기준이 되는 정규화된 URL         |
| qr_key           | QR 코드 생성에 사용되는 고유 키           |
| created_at       | 최초 생성 시각                      |
| last_accessed_at | 최근 QR 접근 시각                   |

### 저장하지 않는 데이터

* QR 코드 이미지 파일
* 이미지 바이너리 데이터

> 이 프로젝트는 **QR 코드 재생성이 가능한 최소 정보만 저장**하는 것을 원칙으로 합니다.

---

## 🧩 URL 정규화 정책 (개념 수준)

* 동일한 Google Drive 리소스를 가리키는 URL을 하나의 기준 URL로 통합
* **Google Drive 이미지 공유 링크 입력을 전제로 함**
* 링크 형식 검증은 MVP 단계에서 강제하지 않으며,
  기본적인 URL 형식 검증만 수행

> ⚠️ 정규화의 세부 규칙(쿼리 제거 범위, 경로 통합 방식 등)은
> 구현 단계에서 결정하며, README에서는 개념 수준만 유지합니다.

---

## 🧩 라우팅 & API 가드레일 (초안 수준)

### 페이지 라우팅

* 관리자 페이지: `/admin/qr`
* 고객 접근 경로: `/qr/{key}`

### API 라우트

* `POST /api/qr`

  * 역할: URL 정규화, 기존 메타데이터 조회, QR 키 생성/반환

* `GET /api/qr/{key}`

  * 역할: QR 키 → 원본 Google Drive 이미지 링크 매핑
  * 클라이언트 **302 Redirect 처리**

> 위 경로 구조는 **MVP 가드레일**이며,
> 특별한 이유 없이 변경하지 않는 것을 원칙으로 합니다.

---

## 🧩 기술 스택

* **Framework**: Next.js (App Router)
* **Deployment**: Serverless
* **Database**: Supabase

> 프론트엔드 + API Routes로 구성된 **서버리스 풀스택 구조**를 전제로 합니다.

---

## ⚙️ 비기능 요구사항

### 성능

* 소규모 관리자 사용 및 낮은 QR 스캔 빈도 전제
* 수 초 이내 응답을 목표로 함

### 보안 (최소 기준)

* URL 입력 값에 대한 기본적인 형식 검증
* 임의 URL 오용에 대한 고급 방어는 MVP 범위에서 제외

### 유지보수성

* QR 생성 규칙은 단일 로직으로 유지
* URL ↔ QR 키 매핑 규칙은 변경되지 않는 것을 전제로 함

---

## 🧪 프로젝트 성격 요약

* 이 프로젝트는 **작고 검증 가능한 MVP**를 목표로 합니다.
* README는 설명서가 아니라 **의사결정 기준(가드레일)** 입니다.
* 구현 중 고민이 생기면, 먼저 이 문서의 범위와 원칙을 확인합니다.

---

✨ *Simple · Stable · Expandable*
